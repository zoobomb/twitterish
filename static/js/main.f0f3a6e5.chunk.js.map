{"version":3,"sources":["myFirebase.js","routes/Profile.js","components/AuthForm.js","components/AuthSocial.js","routes/Auth.js","components/Tweet.js","components/TweetFactory.js","routes/Home.js","components/Navigation.js","components/Router.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebaseInstance","authService","auth","dbService","firestore","storageService","storage","Profile","userObj","refreshUser","history","useHistory","useState","dispayName","newDisplayName","setNewDisplayName","getMyTweet","a","collection","where","uid","orderBy","get","tweets","console","log","docs","map","doc","data","useEffect","onSubmit","event","preventDefault","updateProfile","displayName","className","onChange","value","target","type","autoFocus","placeholder","style","marginTop","onClick","signOut","push","AuthForm","email","setEmail","password","setPassword","newAccount","setNewAccount","error","setError","name","createUserWithEmailAndPassword","signInWithEmailAndPassword","message","required","prev","AuthSocial","onSocialClick","provider","GoogleAuthProvider","GithubAuthProvider","signInWithPopup","icon","faGoogle","faGithub","Auth","faTwitter","color","size","marginBottom","Tweet","tweetObj","isOwner","editing","setEditing","text","newTweet","setNewTweet","toggleEditing","id","update","onDeleteClick","window","confirm","delete","refFromURL","attachmentUrl","autofocus","src","alt","class","faTrash","faPencilAlt","TweetFactory","tweet","setTweet","attachment","setAttachment","attachmentRef","ref","child","uuidv4","putString","response","getDownloadURL","createAt","Date","now","creatorId","add","maxLength","for","faPlus","accept","myFile","files","reader","FileReader","onloadend","finishedEvent","result","currentTarget","readAsDataURL","opacity","backgroundImage","faTimes","Home","setTweets","onSnapshot","snapshot","tweetArray","obj","Navigation","display","justifyContent","to","marginRight","flexDirection","alignItems","fontSize","marginLeft","faUser","AppRouter","isLoggedIn","maxWidth","width","margin","exact","path","App","init","setInit","setIsLoggedIn","setUserObj","onAuthStateChanged","user","args","currentUser","getFullYear","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f0f3a6e5.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport \"firebase/storage\";\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGIN_ID,\n  appId: process.env.REACT_APP_APP_ID,\n};\n\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\n\nexport const firebaseInstance = firebase;\nexport const authService = firebase.auth();\nexport const dbService = firebase.firestore();\nexport const storageService = firebase.storage();\n\n// .env thing is just hiding the keys from github, not about security\n// keys should be exposed in build\n","import { authService, dbService } from \"myFirebase\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Profile = ({ userObj, refreshUser }) => {\n  const history = useHistory();\n  const [newDisplayName, setNewDisplayName] = useState(userObj.dispayName);\n\n  const onLogoutClick = () => {\n    authService.signOut();\n    history.push(\"/\");\n  };\n\n  const getMyTweet = async () => {\n    const tweets = await dbService\n      .collection(\"tweets\")\n      .where(\"creatorId\", \"==\", userObj.uid)\n      .orderBy(\"createAt\", \"desc\")\n      .get();\n    console.log(tweets.docs.map((doc) => doc.data));\n  };\n\n  useEffect(() => {\n    getMyTweet();\n  });\n\n  const onChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setNewDisplayName(value);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    if (userObj.dispayName !== newDisplayName) {\n      await userObj.updateProfile({\n        displayName: newDisplayName,\n      });\n      refreshUser();\n    }\n  };\n\n  return (\n    <div className='container'>\n      <form onSubmit={onSubmit} className='profileForm'>\n        <input\n          onChange={onChange}\n          type='text'\n          autoFocus\n          placeholder='Display name'\n          value={newDisplayName}\n          className='formInput'\n        />\n        <input\n          type='submit'\n          value='Update Profile'\n          className='formBtn'\n          style={{\n            marginTop: 10,\n          }}\n        />\n      </form>\n      <span className='formBtn cancelBtn logOut' onClick={onLogoutClick}>\n        Log Out\n      </span>\n    </div>\n  );\n};\nexport default Profile;\n","import { authService } from \"myFirebase\";\nimport React, { useState } from \"react\";\n\nconst AuthForm = () => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [newAccount, setNewAccount] = useState(true);\n  const [error, setError] = useState(\"\");\n\n  const onChange = (event) => {\n    // console.log(event.target.name);\n    const {\n      target: { name, value },\n    } = event;\n    if (name === \"email\") {\n      setEmail(value);\n    } else if (name === \"password\") {\n      setPassword(value);\n    }\n    // console.log(name, value);\n  };\n\n  const onSubmit = async (event) => {\n    event.preventDefault(); // i don't want the default things to happen. Let me handle that!\n    try {\n      let data;\n      if (newAccount) {\n        // create new account\n        data = await authService.createUserWithEmailAndPassword(\n          email,\n          password\n        );\n      } else {\n        // login\n        data = await authService.signInWithEmailAndPassword(email, password);\n      }\n      console.log(data);\n    } catch (error) {\n      setError(error.message);\n    }\n  };\n\n  const toggleAccount = () => setNewAccount((prev) => !prev);\n\n  return (\n    <>\n      <form onSubmit={onSubmit} className='container'>\n        <input\n          name='email'\n          type='email '\n          placeholder='Email'\n          required\n          value={email}\n          onChange={onChange}\n          className='authInput'\n        />\n        <input\n          name='password'\n          type='password'\n          placeholder='Password'\n          required\n          value={password}\n          onChange={onChange}\n          className='authInput'\n        />\n        <input\n          type='submit'\n          value={newAccount ? \"Create Account\" : \"Sign In\"}\n          className='authInput authSubmit'\n        />\n        {error && <span className='authError'>{error}</span>}\n      </form>\n      <span onClick={toggleAccount} className='authSwitch'>\n        {newAccount ? \"Sign In\" : \"Create Account\"}\n      </span>\n    </>\n  );\n};\n\nexport default AuthForm;\n","import React from \"react\";\nimport { authService, firebaseInstance } from \"myFirebase\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faGoogle, faGithub } from \"@fortawesome/free-brands-svg-icons\";\n\nconst AuthSocial = () => {\n  const onSocialClick = async (event) => {\n    // console.log(event.target.name);\n    const {\n      target: { name },\n    } = event;\n    let provider;\n    if (name === \"google\") {\n      provider = new firebaseInstance.auth.GoogleAuthProvider();\n    } else if (name === \"github\") {\n      provider = new firebaseInstance.auth.GithubAuthProvider();\n    }\n    await authService.signInWithPopup(provider);\n  };\n  return (\n    <div className='authBtns'>\n      <button name='google' onClick={onSocialClick} className='authBtn'>\n        Continue with Google <FontAwesomeIcon icon={faGoogle} />\n      </button>\n      <button name='github' onClick={onSocialClick} className='authBtn'>\n        Continue with Github <FontAwesomeIcon icon={faGithub} />\n      </button>\n    </div>\n  );\n};\n\nexport default AuthSocial;\n","import React from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\n\nimport AuthForm from \"components/AuthForm\";\nimport AuthSocial from \"components/AuthSocial\";\n\nconst Auth = () => {\n  return (\n    <div className='authContainer'>\n      <FontAwesomeIcon\n        icon={faTwitter}\n        color={\"#04AAFF\"}\n        size='3x'\n        style={{ marginBottom: 30 }}\n      />\n      <AuthForm />\n      <AuthSocial />\n    </div>\n  );\n};\nexport default Auth;\n","import { dbService, storageService } from \"myFirebase\";\nimport React, { useState } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTrash, faPencilAlt } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Tweet = ({ tweetObj, isOwner }) => {\n  const [editing, setEditing] = useState(false);\n  const [newTweet, setNewTweet] = useState(tweetObj.text);\n\n  const toggleEditing = () => setEditing((prev) => !prev);\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    // console.log(tweetObj, newTweet);\n    await dbService.doc(`tweets/${tweetObj.id}`).update({\n      text: newTweet,\n    });\n    setEditing(false);\n    setNewTweet(\"\");\n  };\n  const onChange = (event) => {\n    setNewTweet(event.target.value);\n  };\n  const onDeleteClick = async () => {\n    const ok = window.confirm(\"Are you sure to delete this tweet?\");\n    if (ok) {\n      // delete tweet\n      // console.log(ok);\n      await dbService.doc(`tweets/${tweetObj.id}`).delete();\n      await storageService.refFromURL(tweetObj.attachmentUrl).delete();\n    }\n  };\n\n  return (\n    <div className='tweet'>\n      {editing ? (\n        <>\n          <form onSubmit={onSubmit} className='container tweetEdit'>\n            <input\n              type='text'\n              placeholder=''\n              value={newTweet}\n              required\n              autofocus\n              onChange={onChange}\n              className='formInput'\n            />\n            <input type='submit' value='Update Tweet' className='formBtn' />\n          </form>\n          <span onClick={toggleEditing} className='formBtn cancelBtn'>\n            Cancel\n          </span>\n        </>\n      ) : (\n        <>\n          <h4>{tweetObj.text}</h4>\n          {tweetObj.attachmentUrl && (\n            <img src={tweetObj.attachmentUrl} alt='attached file' />\n          )}\n          {isOwner && (\n            <div class='tweet__actions'>\n              <span onClick={onDeleteClick}>\n                <FontAwesomeIcon icon={faTrash} />\n                Delete\n              </span>\n              <span onClick={toggleEditing}>\n                <FontAwesomeIcon icon={faPencilAlt} />\n                Edit\n              </span>\n            </div>\n          )}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Tweet;\n","import React, { useState } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport { dbService, storageService } from \"myFirebase\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faTimes } from \"@fortawesome/free-solid-svg-icons\";\n\nconst TweetFactory = ({ userObj }) => {\n  const [tweet, setTweet] = useState(\"\");\n  const [attachment, setAttachment] = useState(\"\");\n\n  const onSubmit = async (event) => {\n    event.preventDefault();\n    let attachmentUrl = \"\";\n    if (attachment !== \"\") {\n      const attachmentRef = storageService\n        .ref()\n        .child(`${userObj.uid}/${uuidv4()}`);\n      const response = await attachmentRef.putString(attachment, \"data_url\");\n      attachmentUrl = await response.ref.getDownloadURL();\n    }\n    const tweetObj = {\n      text: tweet,\n      createAt: Date.now(),\n      creatorId: userObj.uid,\n      attachmentUrl,\n    };\n\n    await dbService.collection(\"tweets\").add(tweetObj);\n    setTweet(\"\");\n    setAttachment(\"\");\n  };\n\n  const onChange = (event) => {\n    setTweet(event.target.value);\n    // console.log(tweet);\n  };\n\n  const onFileChange = (event) => {\n    const {\n      target: { files },\n    } = event;\n    const myFile = files[0];\n    const reader = new FileReader(); // file api\n    reader.onloadend = (finishedEvent) => {\n      const {\n        currentTarget: { result },\n      } = finishedEvent;\n      setAttachment(result);\n    };\n    reader.readAsDataURL(myFile);\n  };\n\n  const onClearAttachment = () => {\n    setAttachment(null);\n  };\n\n  return (\n    <form onSubmit={onSubmit} className='factoryForm'>\n      <div className='factoryInput__container'>\n        <input\n          type='text'\n          placeholder=\"What's on your mind?\"\n          maxLength={120}\n          value={tweet}\n          onChange={onChange}\n          className='factoryInput__input'\n        />\n        <input type='submit' value='&rarr;' className='factoryInput__arrow' />\n      </div>\n      <label for='attach-file' className='factoryInput__label'>\n        <span>Add photos</span>\n        <FontAwesomeIcon icon={faPlus} />\n      </label>\n      <input\n        id='attach-file'\n        type='file'\n        accept='image/*'\n        onChange={onFileChange}\n        style={{\n          opacity: 0,\n        }}\n      />\n      {attachment && (\n        <div className='factoryForm__attachment'>\n          <img\n            src={attachment}\n            alt='file preview'\n            style={{\n              backgroundImage: attachment,\n            }}\n          />\n          <div className='factoryForm__clear' onClick={onClearAttachment}>\n            <span>Remove</span>\n            <FontAwesomeIcon icon={faTimes} />\n          </div>\n        </div>\n      )}\n    </form>\n  );\n};\n\nexport default TweetFactory;\n","import { dbService } from \"myFirebase\";\nimport React, { useEffect, useState } from \"react\";\nimport Tweet from \"components/Tweet\";\nimport TweetFactory from \"components/TweetFactory\";\n\nconst Home = ({ userObj }) => {\n  const [tweets, setTweets] = useState([]);\n\n  /* oldschool...\n  const getTweets = async () => {\n    const dbTweets = await dbService.collection(\"tweets\").get();\n    // console.log(userObj.uid);\n    dbTweets.forEach((document) => {\n      //   console.log(document.data());\n      const tweetObj = {\n        ...document.data(),\n        id: document.id,\n      };\n      setTweets((prev) => [tweetObj, ...prev]);\n    });\n    console.log(dbTweets); // quarySnapShat\n  };\n  */\n  useEffect(() => {\n    // getTweets();\n    dbService.collection(\"tweets\").onSnapshot((snapshot) => {\n      //   console.log(\"Something happened!\");\n      const tweetArray = snapshot.docs.map((doc) => ({\n        id: doc.id,\n        ...doc.data(),\n      }));\n      setTweets(tweetArray);\n    });\n  }, []); // component is mounted\n\n  return (\n    <div className='container'>\n      <TweetFactory userObj={userObj} />\n      <div style={{ marginTop: 30 }}>\n        {tweets.map((obj) => (\n          <Tweet\n            key={obj.id}\n            tweetObj={obj}\n            isOwner={obj.creatorId === userObj.uid ? true : false}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\nexport default Home;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTwitter } from \"@fortawesome/free-brands-svg-icons\";\nimport { faUser } from \"@fortawesome/free-solid-svg-icons\";\n\nconst Navigation = ({ userObj }) => (\n  <nav>\n    <ul style={{ display: \"flex\", justifyContent: \"center\", marginTop: 50 }}>\n      <li>\n        <Link\n          to='/'\n          style={{\n            marginRight: 10,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            fontSize: 12,\n          }}>\n          <FontAwesomeIcon icon={faTwitter} color={\"#04AAFF\"} size='2x' />\n          <span style={{ marginTop: 10 }}>Home</span>\n        </Link>\n      </li>\n      <li>\n        <Link\n          to='/profile'\n          style={{\n            marginLeft: 10,\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            fontSize: 12,\n          }}>\n          <FontAwesomeIcon icon={faUser} color={\"#04AAFF\"} size='2x' />\n          <span style={{ marginTop: 10 }}>\n            {userObj.displayName\n              ? `${userObj.displayName}'s Profile`\n              : \"Profile\"}\n          </span>\n        </Link>\n      </li>\n    </ul>\n  </nav>\n);\nexport default Navigation;\n","import React from \"react\";\nimport { HashRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Profile from \"routes/Profile\";\nimport Auth from \"../routes/Auth\";\nimport Home from \"../routes/Home\";\nimport Navigation from \"./Navigation\";\n\nconst AppRouter = ({ isLoggedIn, userObj, refreshUser }) => {\n  return (\n    <Router>\n      {isLoggedIn && <Navigation userObj={userObj} />}\n      <Switch>\n        {isLoggedIn ? (\n          <div\n            style={{\n              maxWidth: 890,\n              width: \"100%\",\n              margin: \"0 auto\",\n              marginTop: 80,\n              display: \"flex\",\n              justifyContent: \"center\",\n            }}>\n            <Route exact path='/'>\n              <Home userObj={userObj} />\n            </Route>\n            <Route exact path='/profile'>\n              <Profile userObj={userObj} refreshUser={refreshUser} />\n            </Route>\n          </div>\n        ) : (\n          <>\n            <Route exact path='/'>\n              <Auth />\n            </Route>\n          </>\n        )}\n      </Switch>\n    </Router>\n  );\n};\n\nexport default AppRouter;\n","import React, { useEffect, useState } from \"react\";\nimport AppRouter from \"components/Router\";\nimport { authService } from \"myFirebase\";\n\nfunction App() {\n  // console.log(authService.currentUser);\n  const [init, setInit] = useState(false);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [userObj, setUserObj] = useState(null);\n\n  useEffect(() => {\n    authService.onAuthStateChanged((user) => {\n      if (user) {\n        setIsLoggedIn(true);\n        // setUserObj(user);\n        setUserObj({\n          displayName: user.displayName,\n          uid: user.uid,\n          updateProfile: (args) => user.updateProfile(args),\n        });\n      } else {\n        setIsLoggedIn(false);\n      }\n      setInit(true);\n    });\n  }, []);\n\n  const refreshUser = () => {\n    const user = authService.currentUser;\n    setUserObj({\n      displayName: user.displayName,\n      uid: user.uid,\n      updateProfile: (args) => user.updateProfile(args),\n    });\n    // setUserObj(Object.assign({}, user)) // assign {} to user, react.js recognise the change and re-render\n    console.log(authService.currentUser.displayName);\n    console.log(userObj);\n  };\n\n  return (\n    <>\n      {init ? (\n        <AppRouter\n          isLoggedIn={isLoggedIn}\n          userObj={userObj}\n          refreshUser={refreshUser}\n        />\n      ) : (\n        \"Initialising..........\"\n      )}\n      <footer className='footer'>\n        {\" \"}\n        &copy; Twitterish {new Date().getFullYear()}{\" \"}\n      </footer>\n    </>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"components/App\";\nimport \"./styles.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}